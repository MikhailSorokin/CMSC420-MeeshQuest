package cmsc420.geometry;

import cmsc420.geom.Geometry2D;

public abstract class Geometry implements Geometry2D, Comparable<Geometry> {
	@Override
	public int compareTo(Geometry o) {
		if (this.isCity() || this.isAirport()) {
			try {
				if (o.isCity()) {
					// both are cities
					return ((City) o).getName().compareTo(((City) this).getName());
				} 
			} catch (ClassCastException e) {
				if (o.isAirport()) {
					// both are cities
					return ((Airport) o).getName().compareTo(((Airport) this).getName());
				} 
			}
			
			// this is a city, o is a road
			return -1;
		} else {
			// this is a road
			if (o.isCity() || o.isAirport()) {
				// o is a city
				return 1;
			} else {
				try {
					// o is a road
					if (((Road) this).getStart().getName()
							.compareTo(((Road) o).getStart().getName()) == 0) {
						// start names are the same so compare end names
						return ((Road) o).getEnd().getName()
								.compareTo(((Road) this).getEnd().getName());
					} else {
						/* start names are different; compare start names */
						return ((Road) o).getStart().getName()
								.compareTo(((Road) this).getStart().getName());
					}
				} catch (ClassCastException e) {
					// o is a terminal
					if (((Terminal) this).getTerminalName()
							.compareTo(((Terminal) o).getTerminalName()) == 0) {
						// start names are the same so compare end names
						return ((Terminal) o).getEnd().getName()
								.compareTo(((Terminal) this).getEnd().getName());
					} else {
						/* start names are different; compare start names */
						return ((Terminal) o).getTerminalName()
								.compareTo(((Terminal) this).getStart().getName());
					}
				}
			}
		}
	}
	
	public boolean isRoad() {
		return getType() == Geometry2D.SEGMENT;
	}

	public boolean isCity() {
		return getType() == Geometry2D.POINT;
	}

	public boolean isAirport() {
		return getType() == Geometry2D.POINT;
	}

	public boolean isTerminal() {
		return getType() == Geometry2D.SEGMENT;
	}

}
